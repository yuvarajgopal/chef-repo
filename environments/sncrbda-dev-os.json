{
  "name": "sncrbda-dev-os",
  "description": "DEV environment for EBU BDA",
  "cookbook_versions": {
      "cron": "~> 1.6.0",
      "iptables": "~> 1.0",
      "build-essential": "< 2.3.0",
      "rsyslog": "~> 2.2"
  },
  "json_class": "Chef::Environment",
  "chef_type": "environment",
  "default_attributes": {
      "chef_client": {
          "config": {
              "chef_server_url": "https://chef-pabet-redirect.sncrcorp.net:443/organizations/sncr-bda",
              "validation_client_name": "sncr-bda-validator.pem",
              "no_proxy": "*.amazonaws.com,10.*,download.oracle.com,*.mapr.com,github.com",
              "lazy_load": true
          },
          "cron": {
              "environment_variables": "LC_ALL=en_US.UTF-8",
              "hour": "*/1",
              "log_file": "/var/log/chef-client.last"
          }
      },
      "chef_handler_sns" : {
          "topic_arn": "arn:aws:sns:us-east-1:149375139707:SNCRBDADEV-CW-OpsAlertsTopic-GHFIADKWNJ7U",
          "supports": {
              "exception": true,
              "report": false
          }
      },
      "java": {
          "install_flavor": "oracle",
          "jdk_version": "8",
          "jdk": {
              "8": {
                  "x86_64": {
                      "url": "http://10.49.0.106/aws/jdk-8u65-linux-x64.tar.gz",
                      "checksum": "88db2aacdc222c2add4d92822f528b7a2101552272db4487f33b38b0b47826e7"
                  }
              }
          },

          "oracle": {
              "accept_oracle_download_terms": true,
              "jce": {
                  "enabled": true,
                  "8": {
                      "url": "http://10.49.0.106/aws/jce_policy-8.zip",
                      "checksum": "f3020a3922efd6626c2fff45695d527f34a8020e938a49292561f18ad1320b59"
                      }
              }
          }
      },
      "sncr_mapr": {
          "version": "5.1.0",
          "clustername": "bda_lab_batch",
          "cloudplatform": "openstack",
          "users_data_bag": "users_dev",
          "node_count": "5",
          "cluster_nodes": ["mapr-dev01.sncrbda.dev.vacum-np.sncrcorp.net",
                           "mapr-dev02.sncrbda.dev.vacum-np.sncrcorp.net",
                           "mapr-dev03.sncrbda.dev.vacum-np.sncrcorp.net",
                           "mapr-dev04.sncrbda.dev.vacum-np.sncrcorp.net",
                           "mapr-dev05.sncrbda.dev.vacum-np.sncrcorp.net"
                           ],
          "cldb": ["mapr-dev01.sncrbda.dev.vacum-np.sncrcorp.net",
                   "mapr-dev02.sncrbda.dev.vacum-np.sncrcorp.net",
                   "mapr-dev03.sncrbda.dev.vacum-np.sncrcorp.net"
		 ],
          "zk": ["mapr-dev01.sncrbda.dev.vacum-np.sncrcorp.net",
                 "mapr-dev02.sncrbda.dev.vacum-np.sncrcorp.net",
                 "mapr-dev03.sncrbda.dev.vacum-np.sncrcorp.net"
                ],
          "rm": ["mapr-dev02.sncrbda.dev.vacum-np.sncrcorp.net"],
          "ws": ["mapr-dev01.sncrbda.dev.vacum-np.sncrcorp.net"],
          "hs": "mapr-dev01.sncrbda.dev.vacum-np.sncrcorp.net",
          "node": {
              "disks": "/dev/vdc,/dev/vdd,/dev/vde"
          },
          "clustershell": {
              "rpm_url": "http://10.49.0.106/aws/clustershell-1.6-1.el6.noarch.rpm"
          }
      },
      "ntp": {
          "servers": [
              "0.amazon.pool.ntp.org",
              "1.amazon.pool.ntp.org",
              "2.amazon.pool.ntp.org",
              "3.amazon.pool.ntp.org"
              ]
      },
      "openssh": {
          "server": {
              "protocol": "2",
              "syslog_facility": "AUTHPRIV",
              "log_level": "INFO",
              "max_auth_tries": "5",
              "ignore_rhosts": "yes",
              "host_based_authentication": "no",
              "permit_root_login": "no",
              "permit_empty_passwords": "no",
              "permit_user_environment": "no",
              "client_alive_count_max": "3",
              "client_alive_interval": "7200",
              "banner": "/etc/issue",
              "x11_forwarding": "no",
              "gateway_ports": "clientspecified"
          }
      },
      "rsyslog": {
          "server_search": "roles:rsyslog-server AND chef_environment:sncrbda-dev"
      },
      "sncr_artifacts": {
          "yum-centos": false
      }
  },
  "override_attributes": {
    "authorization": {
      "sudo": {
        "groups": [
          "wheel", "sg_unix_bda_dev_sudo"
        ]
      }
    },
      "snmp": {
          "sec_name" : { "notConfigUser": [ ] },
          "sec_name6" : { "notConfigUser": [ ] },
          "groups" : {
              "v1": { "notConfigGroup" : [ ] },
              "v2c": { "notConfigGroup" : [ ] }
          }
      },
    "sncr_sssd": {
        "domains": {
            "sncr_sso": {
                "ldap_access_filter": "(|(memberOf=CN=all_unix_users_global,OU=Groups,OU=UNIX,cn=UsersGroups)(it_unix_sudoers_global,OU=Groups,OU=UNIX,cn=UsersGroups)(memberOf=CN=sg_unix_bda_dev,OU=Groups,OU=UNIX,cn=UsersGroups))"

            }
        }
    }
  }
}
