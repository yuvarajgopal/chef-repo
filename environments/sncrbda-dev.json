{
  "name": "sncrbda-dev",
  "description": "DEV environment for EBU BDA",
  "cookbook_versions": {
      "cron": "~> 1.6.0",
      "iptables": "~> 1.0",
      "build-essential": "< 2.3.0",
      "rsyslog": "~> 2.2"
  },
  "json_class": "Chef::Environment",
  "chef_type": "environment",
  "default_attributes": {
      "chef_client": {
          "config": {
              "chef_server_url": "https://chef-pabet.sncrcorp.net:443/organizations/sncr-bda",
              "https_proxy": "https://chef-proxy.ivpc.prod.cloud.synchronoss.net:3128",
              "validation_client_name": "sncr-bda-validator.pem",
              "no_proxy": "*.amazonaws.com,10.*,download.oracle.com,*.mapr.com,github.com",
              "lazy_load": true
          },
          "cron": {
              "environment_variables": "LC_ALL=en_US.UTF-8",
              "hour": "*/1",
              "log_file": "/var/log/chef-client.last"
          }
      },
      "chef_handler_sns" : {
          "topic_arn": "arn:aws:sns:us-east-1:149375139707:SNCRBDADEV-CW-OpsAlertsTopic-GHFIADKWNJ7U",
          "supports": {
              "exception": true,
              "report": false
          }
      },
      "java": {
          "install_flavor": "oracle",
          "jdk_version": "8",
          "jdk": {
              "8": {
                  "x86_64": {
                      "url": "https://s3.amazonaws.com/public.dev.sncrbda.sncr/public/java/jdk/8u65-b17/jdk-8u65-linux-x64.tar.gz",
                      "checksum": "88db2aacdc222c2add4d92822f528b7a2101552272db4487f33b38b0b47826e7"
                  }
              },
              "7": {
                  "x86_64": {
                      "url": "https://s3.amazonaws.com/public.dev.sncrbda.sncr/public/java/jdk/7u75-b13/jdk-7u75-linux-x64.tar.gz",
                      "checksum": "460959219b534dc23e34d77abc306e180b364069b9fc2b2265d964fa2c281610"
                  }
              }
          },

          "oracle": {
              "accept_oracle_download_terms": true,
              "jce": {
                  "enabled": true,
                  "8": {
                      "url": "https://s3.amazonaws.com/public.dev.sncrbda.sncr/public/java/jce/8/jce_policy-8.zip",
                      "checksum": "f3020a3922efd6626c2fff45695d527f34a8020e938a49292561f18ad1320b59"
                      },
                  "7": {
                      "url": "https://s3.amazonaws.com/public.dev.sncrbda.sncr/public/java/jce/7/UnlimitedJCEPolicyJDK7.zip",
                      "checksum": "7a8d790e7bd9c2f82a83baddfae765797a4a56ea603c9150c87b7cdb7800194d"
                  }
              }
          }
      },
      "sncr_awstools": {
          "emount": {
              "mount_dev": "/dev/xvdb"
          },
          "eswap": {
              "size_in_gb": "8192"
          }
      },
      "sncr_mapr": {
          "version": "5.1.0",
          "users_data_bag": "users_dev",
          "node_count": "5",
          "cluster_nodes": ["mapr101.sncrbda.dev.cloud.synchronoss.net",
                           "mapr102.sncrbda.dev.cloud.synchronoss.net",
                           "mapr103.sncrbda.dev.cloud.synchronoss.net",
                           "mapr104.sncrbda.dev.cloud.synchronoss.net",
                           "mapr105.sncrbda.dev.cloud.synchronoss.net"
                           ],
          "cldb": ["mapr101.sncrbda.dev.cloud.synchronoss.net"],
          "zk": ["mapr101.sncrbda.dev.cloud.synchronoss.net",
                 "mapr102.sncrbda.dev.cloud.synchronoss.net",
                 "mapr103.sncrbda.dev.cloud.synchronoss.net"
                ],
          "rm": ["mapr102.sncrbda.dev.cloud.synchronoss.net"],
          "ws": ["mapr101.sncrbda.dev.cloud.synchronoss.net"],
          "hs": "mapr101.sncrbda.dev.cloud.synchronoss.net",
          "node": {
              "disks": "/dev/xvdb,/dev/xvdc"
          },
          "clustershell": {
              "rpm_url": "http://s3.amazonaws.com/public.dev.sncrbda.sncr/public/mapr/clustershell-1.6-1.el6.noarch.rpm"
          }
      },
      "ntp": {
          "servers": [
              "0.amazon.pool.ntp.org",
              "1.amazon.pool.ntp.org",
              "2.amazon.pool.ntp.org",
              "3.amazon.pool.ntp.org"
              ]
      },
      "openssh": {
          "server": {
              "protocol": "2",
              "syslog_facility": "AUTHPRIV",
              "log_level": "INFO",
              "max_auth_tries": "5",
              "ignore_rhosts": "yes",
              "host_based_authentication": "no",
              "permit_root_login": "no",
              "permit_empty_passwords": "no",
              "permit_user_environment": "no",
              "client_alive_count_max": "3",
              "client_alive_interval": "7200",
              "banner": "/etc/issue",
              "x11_forwarding": "no",
              "gateway_ports": "clientspecified"
          }
      },
      "rsyslog": {
          "server_search": "roles:rsyslog-server AND chef_environment:sncrbda-dev"
      },
      "sncr_artifacts": {
          "yum-centos": false
      },
      "sncr_sssd": {
          "conf": {
              "sssd": {
                  "domains": ["ivpc"]
              }
          },
          "domains": {
              "ivpc": {
                  "ldap_default_bind_dn": "cn=orcladmin",
                  "ldap_default_authtok": "jHX3m7SMryIKM5SuuLo6jMiHv"
              }
          }
      }
  },
  "override_attributes": {
    "authorization": {
      "sudo": {
        "groups": [
          "wheel", "sg_unix_bda_dev_sudo"
        ]
      }
    },
      "snmp": {
          "sec_name" : { "notConfigUser": [ ] },
          "sec_name6" : { "notConfigUser": [ ] },
          "groups" : {
              "v1": { "notConfigGroup" : [ ] },
              "v2c": { "notConfigGroup" : [ ] }
          }
      },
    "sncr_sssd": {
        "domains": {
            "ivpc": {
                "ldap_access_filter": "(|(memberOf=CN=sg_unix_bda_dev,OU=Groups,OU=UNIX,DC=synchronoss,DC=net)(memberOf=CN=sg_unix_bda_dev_sudo,OU=Groups,OU=UNIX,DC=synchronoss,DC=net))"
            }
        }
    }
  }
}
